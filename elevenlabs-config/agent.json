{
  "name": "PrincetonAI-Medical-PhoneAgent",
  "conversation_config": {
    "agent": {
      "prompt": {
        "prompt": "See system-prompt.md for full prompt content",
        "llm": "claude-sonnet-4",
        "temperature": 0.7,
        "max_tokens": 300
      },
      "first_message": "Hello, you've reached the automated patient request line. I'll help you submit a request to the practice team. Could I start with your first name?",
      "language": "en"
    },
    "asr": {
      "quality": "high",
      "provider": "elevenlabs"
    },
    "tts": {
      "model_id": "eleven_turbo_v2_5",
      "voice_id": "TO_BE_SELECTED",
      "stability": 0.5,
      "similarity_boost": 0.8,
      "speed": 1.0
    },
    "turn": {
      "mode": "turn_based",
      "turn_timeout_secs": 10,
      "silence_end_call_timeout_secs": 30
    },
    "conversation": {
      "max_duration_secs": 900
    }
  },
  "platform_settings": {
    "evaluation": {
      "criteria": [
        {
          "name": "patient_identification",
          "description": "Successfully collected patient name (with last name spelled out), postcode, and phone number"
        },
        {
          "name": "emergency_screening",
          "description": "Confirmed the call is not an emergency"
        },
        {
          "name": "request_captured",
          "description": "Captured the request type and relevant details"
        },
        {
          "name": "confirmation_given",
          "description": "Read back and confirmed information with patient"
        }
      ]
    },
    "data_collection": {
      "patient_first_name": {
        "type": "string",
        "description": "Patient's first name"
      },
      "patient_last_name": {
        "type": "string",
        "description": "Patient's last name (spelled out letter by letter for confirmation)"
      },
      "patient_postcode": {
        "type": "string",
        "description": "UK postcode, uppercase with space"
      },
      "patient_phone": {
        "type": "string",
        "description": "UK phone number"
      },
      "preferred_contact": {
        "type": "string",
        "enum": ["text", "phone", "both"],
        "description": "How patient prefers to be contacted"
      },
      "emergency_confirmed": {
        "type": "boolean",
        "description": "Patient confirmed this is NOT an emergency (true = not emergency, false = possible emergency)"
      },
      "request_type": {
        "type": "string",
        "description": "Comma-separated list of ALL request types the patient mentions. Valid types: health_problem, repeat_prescription, fit_note. Examples: 'health_problem' or 'fit_note,repeat_prescription' if patient wants multiple."
      },
      "health_problem_description": {
        "type": "string",
        "description": "Description of health problem if applicable"
      },
      "health_problem_duration": {
        "type": "string",
        "description": "How long problem has been occurring"
      },
      "health_problem_progression": {
        "type": "string",
        "description": "Getting better, worse, or same"
      },
      "health_problem_tried": {
        "type": "string",
        "description": "Treatments patient has tried"
      },
      "health_problem_concerns": {
        "type": "string",
        "description": "Patient's specific concerns"
      },
      "health_problem_help_wanted": {
        "type": "string",
        "description": "How patient wants to be helped"
      },
      "best_contact_times": {
        "type": "string",
        "description": "When patient is available for callback"
      },
      "medications_requested": {
        "type": "string",
        "description": "Comma-separated list of medications with strengths (e.g., 'Metformin 500mg, Lisinopril 10mg')"
      },
      "prescription_notes": {
        "type": "string",
        "description": "Additional notes about prescription request"
      },
      "fit_note_previous": {
        "type": "boolean",
        "description": "Whether patient has had a fit note before for this condition"
      },
      "fit_note_illness": {
        "type": "string",
        "description": "The specific medical condition or illness requiring the fit note (e.g., 'back pain', 'anxiety', 'broken leg'). Only capture actual health conditions - NOT phrases like 'no', 'I'm good', 'fine', or emergency confirmation responses."
      },
      "fit_note_dates_and_details": {
        "type": "string",
        "description": "Combined field: dates needed, employer accommodations, any other fit note details"
      },
      "routine_care_details": {
        "type": "string",
        "description": "Combined field for routine care type and details (future use)"
      },
      "test_details": {
        "type": "string",
        "description": "Combined field for test type, date, location, reason (future use)"
      },
      "referral_details": {
        "type": "string",
        "description": "Combined field for referral info including what for, date, NHS/private (future use)"
      },
      "letter_details": {
        "type": "string",
        "description": "Combined field for letter purpose and deadline (future use)"
      },
      "other_admin_description": {
        "type": "string",
        "description": "Description for other admin requests (future use)"
      },
      "additional_notes": {
        "type": "string",
        "description": "Any additional notes or context from the call"
      }
    },
    "privacy": {
      "record_conversation": true,
      "retention_days": 30
    }
  },
  "workflow": {
    "post_call_webhook": {
      "url": "TO_BE_CONFIGURED",
      "type": "post_call_transcription"
    }
  },
  "tags": ["medical", "intake", "uk", "mvp"]
}
